#ifndef _GPS_H_
#define _GPS_H_

#include <stdint.h>

//##################################################################################################################

typedef struct
{
    char* Message_ID ;
    char* Time;
    char* Data_Valid ;
    char* Raw_Latitude ;
    char* N_S ;
    char* Raw_Longitude;
    char* E_W ;
    char* Speed;
    char* COG;
    char* Date;
    char* Magnetic_Variation;
    char* M_E_W;
    char* Positioning_Mode;


	char 		DATA_TYPE[16];
	char *			UTC_Hour;
	uint8_t			UTC_Min;
	uint8_t			UTC_Sec;
	uint16_t		UTC_MicroSec;
	
	char *			Status;

	char 		Latitude[16];
	double			LatitudeDecimal;
	char *			NS_Indicator;
	char 			Longitude[16];
	double			LongitudeDecimal;
	char *			EW_Indicator;
	
	uint8_t			PositionFixIndicator;
	uint8_t			SatellitesUsed;
	float				HDOP;
	float				MSL_Altitude;
	char				MSL_Units;
	float				Geoid_Separation;
	char				Geoid_Units;
	
	uint16_t		AgeofDiffCorr;
	char				DiffRefStationID[4];
	char				CheckSum[2];	
	
}GPGGA_t;

typedef struct 
{
	uint8_t		rxBuffer[256];
	uint16_t	rxIndex;
	uint8_t		rxTmp;	
	uint32_t	LastTime;	
	
	GPGGA_t		GPGGA;
	
}GPS_t;

extern GPS_t GPS;
//##################################################################################################################
void	GPS_Init(void);
void	GPS_CallBack(void);
void	GPS_Process(void);
//##################################################################################################################

#endif
